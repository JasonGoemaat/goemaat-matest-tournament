<div *ngIf="data$ | async as data; else loading">
  <!-- <app-tournament-menu [tournamentId]="data.tournamentId"></app-tournament-menu> -->
  <button mat-button [matMenuTriggerFor]="menu" style="position: fixed; top: 0; left: 0; z-index: 1000; background-color: white; font-size: 1.5em;">
    Menu
    <img *ngIf="data.auth.photoURL" [src]="data.auth.photoURL" style="width: 24px">
  </button>
  <mat-menu #menu>
    <button mat-menu-item (click)="router.navigate(['tournaments', data.tournamentId])">Bracket</button>
    <button mat-menu-item (click)="router.navigate(['tournaments', data.tournamentId, 'games'])">Games</button>
    <button mat-menu-item (click)="router.navigate(['tournaments', data.tournamentId, 'participants'])">Participants</button>
    <button mat-menu-item *ngIf="!data.auth.name" (click)="signIn()">Sign In</button>
    <button mat-menu-item *ngIf="data.auth.name" (click)="signOut()">Sign Out</button>
    <button mat-menu-item (click)="resetTournament(data.tournamentId)">&lt;--RESET--&gt;</button>
    <button mat-menu-item (click)="copyToClipboard(data.tournament)">&lt;--COPY JSON--&gt;</button>
  </mat-menu>
  <h1 class="loading">{{data.vm.tournament.name}}</h1>
  <router-outlet></router-outlet>
</div>
<ng-template #loading>
  <app-loading></app-loading>
</ng-template>
